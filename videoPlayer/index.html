<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.css">
  <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
  <div class="videoPlayer">
    <video width="500">
      <source src="video/videoplayback.mp4" type="video/mp4">
    </video>
    <input class="progretionBar" type="range" min="0" max="100" value="0" step="1">
    <article>
      <div class="controls">
        <div class="fas play">
        </div>
      </div>
      <div class="time">
        <p>00:00</p>/<p>00:00</p>
      </div>
    </article>
  </div>
</body>
</html>

<script>
  //Object references
  var $playButton = document.querySelector('.play');
  var $video = document.querySelector('video');
  var $currentTime = document.querySelector('.time p:first-child');
  var $durationTime = document.querySelector('.time p:last-child');
  var $progretionBar = document.querySelector('.progretionBar');

  //Event Listeners
  $playButton.addEventListener('click', playStop, false);
  $progretionBar.addEventListener("change", progretionBar,false);
  $video.addEventListener('timeupdate', timeUpdate, false);

  //Functions
  function playStop() {
    if($video.paused){
      $video.play();
      this.classList.add('pause');
    } else {
      $video.pause();
      this.classList.remove('pause');
    }
  }

  function progretionBar(){
  	var progress = $video.duration * ($progretionBar.value / 100);
  	$video.currentTime = progress;
  }

  function timeUpdate(){
    var nt = $video.currentTime * (100 / $video.duration);
	  $progretionBar.value = nt;
  	var curMins = Math.floor($video.currentTime / 60);
  	var curSecs = Math.floor($video.currentTime - curMins * 60);
  	var durMins = Math.floor($video.duration / 60);
  	var durSecs = Math.floor($video.duration - durMins * 60);
  	if(curSecs < 10){ curSecs = "0"+curSecs; }
  	if(durSecs < 10){ durSecs = "0"+durSecs; }
  	if(curMins < 10){ curMins = "0"+curMins; }
  	if(durMins < 10){ durMins = "0"+durMins; }
  	$currentTime.innerHTML = curMins+":"+curSecs;
  	$durationTime.innerHTML = durMins+":"+durSecs;
  }
</script>
